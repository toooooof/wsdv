var G;
var firstTime = true;
var firstTimeChat = true;

function startup() {

	// A SUPPRIMER
	if (new Date().getTime() < NEWRULES_TS) {
		$("#newruleswarning").remove();
	}

	if (global != undefined) {
		if (global.load != undefined) {
			IO.init(global.gameId);
			loadGame($.extend(true, {},global.load));
			if (global.pov == R.EAST || global.pov == R.WEST) this.startReceiveFocus();
			Controller.view.startTriggers();
		} else if (global.east != undefined && global.west != undefined) {
			G = new Game();
			G.start(global.east, global.west);

			var pov = parseInt(global.pov);
			Controller.init(G, pov);

			IO.init(global.gameId).saveGameData(G, true);
			this.startReceiveFocus();
		} else {
			$('body').html('<p>This game is not started</p><p><a href="../main.jsp">Back</a></p>');
		}
	}
}

function loadGame(data) {
	if (data != undefined && data != null) {
		G = new Game();
		G.load(data);

		var pov = parseInt(global.pov);
		Controller.init(G, pov);

		Log.refreshHistory(G);
		IO.getMessages(Controller.view);
		window.V = Controller.view;
	}
}

function startReceiveFocus() {
	IO.init(global.gameId).focus(this.receiveFocus);
	window.setTimeout(function () {
		IO.focusChat(addMessageToDisplayLive);
	}, 200);
}

function receiveFocus(data) {
	if (firstTime === true) {
		firstTime = false;
	} else {
		IO.init(global.gameId).loadGameData(this.receiveData);
	}
}

function receiveData(data) {
	if (G != undefined) {
		global.reset = data;
		G.load(JSON.parse(data));
		Log.refreshHistory(G);
		//IO.getMessages(Controller.view);
		Controller.init(G, parseInt(global.pov));
	}
}

function reset() {
	if (global.reset != undefined) {
		loadGame(JSON.parse(global.reset));
	} else {
		loadGame($.extend(true, {},global.load));
	}
}

function debug() {

	var b = {"a":[65,80],"d":[{"n":"srky84","h":[],"b":[52,54,55],"c":1454152913867},{"n":"zukov","h":[76],"p":[2,1,3]}],"e":[1,7,1,4,3],"f":[[0,2],[0,3],[3,2],[0,3],[1,2],[1,2],[5,3],[0,[1,1,1]],[1,1],[2,2,1],[2,2,2],[2,1,1],[3,1,2],[2,1,2]],"g":2,"h":[3,9,33,30,20,25,28,6,11,23,38,36,17,27,2,14,10,15,24,7,32,4,1,18,19,31,26,35],"i":[35,5,15,40,28,59,16,46,51.4,10,64,23,2,39,24,17,32,31,50,14,49,3,44,56,62,53],"j":true,"k":[0,-2,4],"l":[30,33,27,38,28],"n":[68,73,64,78,62,61,63,79,72,85,69,77,71,74,75,70,67,66],"p":"{\"iconList\":[29],\"settingHamburg\":true}","q":[1454270514273,[117541685,1,0,[4,2,false]],[117538756,1,2,[0,20]],[117537860,1,2,[0,25]],[117537389,1,2,[1,35]],[117507214,2,0,[17,2,false]],[117505637,2,2,[0,28]],[117495799,1,0,[20,4,false]],[117493979,1,1,[53,false]],[117489987,1,2,[0,6]],[117488099,1,2,[1,5]],[117485355,1,2,[0,11]],[117481955,1,4,[62,1,null]],[117480779,2,22,[62,1]],[117471862,2,0,[2,4,false]],[117469517,2,2,[1,46]],[117466854,2,4,[59,1,null]],[117466842,2,20,[0,0,2]],[117449452,1,0,[13,4,false]],[117443172,1,2,[1,15]],[117437468,1,2,[0,23]],[117435852,1,2,[1,40]],[117430588,1,1,[50,false]],[117413294,2,0,[6,4,false]],[117410445,2,2,[0,38]],[117407669,2,2,[0,36]],[117404252,2,4,[60,1,null]],[117404235,2,20,[0,0,1]],[117396298,1,0,[7,2,true]],[117383588,1,2,[0,17]],[117382732,1,2,[1,28]],[117372158,2,0,[16,2,true]],[117371350,2,2,[0,27]],[117363216,1,0,[14,4,true]],[117354924,1,2,[0,2]],[117353028,1,1,[57,false]],[117350940,1,1,[57,false]],[117350933,1,20,[0,-1,0]],[117320559,2,0,[11,2,true]],[117318797,2,2,[1,59]],[117310600,1,0,[15,4,false]],[117309538,1,21,[2,1]],[117307323,1,5,[1,46]],[117300691,1,2,[0,15]],[117291631,2,0,[10,4,false]],[117281639,2,1,[59,false]],[117273741,2,4,[56,1,null]],[117273723,2,20,[0,0,2]],[117264006,1,0,[9,3,false]],[117263098,1,38,[56,true]],[117260205,1,38,[57,true]],[117257922,1,38,[51,true]],[117165670,2,0,[19,2,false]],[117157300,2,2,[1,64]],[117155582,2,2,[1,44]],[117145001,1,0,[8,3,false]],[117141669,1,38,[53,true]],[117140813,1,38,[50,true]],[117136141,1,38,[52,true]],[117090847,2,0,[3,4,false]],[117088270,2,2,[0,34]],[117086494,2,2,[1,57]],[117086483,2,20,[0,1,0]],[117078097,1,0,[12,4,false]],[117076716,1,5,[0,15]],[117073228,1,4,[52,1,null]],[117073221,1,20,[-2,0,0]],[117028942,2,0,[5,4,false]],[117021390,2,1,[60,false]],[117019700,2,20,[1,0,0]],[117018717,null,31,[2]],[117010043,1,5,[1,44]],[116998054,2,5,[1,57]],[116995190,null,12,[1]],[116985423,1,25,[]],[116976163,1,10,[30]],[116975211,null,12,[2]],[116972899,2,19,[3,0,0,2,3]],[116972898,null,33,[0]],[116972891,null,12,[3]],[116972891,null,34,[2]],[116956324,2,5,[0,34]],[116949236,2,5,[1,64]],[116943766,null,12,[4]],[116934102,null,12,[5]],[116934093,null,12,[6]],[116932686,1,4,[58,1,"Schleswig-Holstein"]],[116927438,1,4,[61,1,"Niedersachsen"]],[116926983,1,4,[63,1,"Hessen"]],[116926977,1,27,[54]],[116926977,1,27,[55]],[116926519,1,4,[62,1,"Bayern"]],[116926512,1,26,[57,59,1]],[116926512,1,26,[57,60,1]],[116926512,2,27,[58]],[116926512,2,27,[59]],[116926512,2,27,[60]],[116926512,2,27,[61]],[116926512,2,27,[62]],[116926511,2,27,[63]],[116926511,null,12,[7]],[116926511,null,35,[2]],[116917885,2,1,[62,false]],[116909351,2,1,[58,false]],[116908119,null,12,[8]],[116908117,null,36,[3]],[116906869,2,22,[60]],[116905021,2,22,[59]],[116902374,2,22,[61]],[116899429,null,12,[9]],[116899427,null,37,[]],[116899409,null,12,[10]],[116891770,1,0,[26,2,false]],[116882815,1,2,[0,14]],[116869070,2,0,[28,4,false]],[116867165,2,1,[63,false]],[116867152,2,20,[1,0,1]],[116859685,1,0,[39,2,false]],[116858254,1,2,[0,10]],[116857806,1,2,[1,16]],[116850527,1,2,[0,15]],[116739294,2,0,[23,4,false]],[116735710,2,2,[1,46]],[116731918,2,2,[1,51.1]],[116729734,2,2,[1,51.2]],[116725446,2,4,[61,1,null]],[116725435,2,20,[0,1,0]],[116706670,1,0,[40,4,false]],[116697020,1,4,[53,1,null]],[116697008,1,20,[-2,0,0]],[116654670,2,0,[22,4,false]],[116653646,2,21,[{"symbol":3,"restriction":57}]],[116651901,2,1,[61,false]],[116649102,2,1,[60,false]],[116646180,2,20,[0,1,0]],[116611600,1,0,[33,2,true]],[116609521,1,2,[1,10]],[116605754,1,2,[1,17]],[116597198,2,0,[36,2,true]],[116594133,2,2,[1,64]],[116592350,2,2,[1,44]],[116582177,1,0,[29,2,true]],[116580237,1,2,[1,23]],[116577910,1,2,[1,2]],[116550668,2,0,[82,4,false]],[116548603,2,17,[]],[116528538,1,0,[32,3,false]],[116513573,1,38,[53,true]],[116510685,1,38,[55,true]],[116509909,1,38,[54,true]],[116487950,2,0,[38,3,false]],[116483691,2,38,[59,true]],[116478364,2,38,[63,true]],[116476285,2,38,[60,true]],[116467323,1,0,[31,2,false]],[116460026,1,2,[0,24]],[116459586,1,2,[1,39]],[116410758,2,0,[35,2,false]],[116409606,2,2,[0,32]],[116408998,2,2,[1,50]],[116402877,2,2,[0,34]],[116395287,1,0,[24,3,false]],[116392910,1,38,[57,true]],[116391410,1,38,[50,true]],[116390690,1,38,[56,true]],[116383734,2,0,[30,4,false]],[116380742,2,21,[2,-1]],[116375492,2,1,[61,false]],[116375480,2,20,[0,2,0]],[116361417,1,0,[21,4,false]],[116360177,1,21,[4]],[116359449,1,20,[0,-1,-1]],[116297078,2,0,[34,3,false]],[116295916,2,38,[58,true]],[116295196,2,38,[61,true]],[116293918,2,38,[62,true]],[116291173,null,32,[]],[116286222,2,5,[0,34]],[116285118,2,20,[-1,0,0]],[116285117,null,12,[1]],[116262889,1,25,[]],[116250057,1,4,[63,1,null]],[116248649,null,12,[2]],[116246808,2,19,[1,3,6,3,4]],[116246808,null,33,[0]],[116246798,null,12,[3]],[116246798,null,34,[3]],[116193429,2,5,[1,50]],[116192373,2,5,[0,32]],[116186659,2,5,[1,44]],[116185148,null,12,[4]],[116179012,null,12,[5]],[116179000,null,12,[6]],[116178337,1,4,[58,1,"Schleswig-Holstein"]],[116178327,1,27,[51]],[116176969,1,4,[63,1,"Hessen"]],[116176097,1,4,[63,1,"Bayern"]],[116176088,1,26,[57,59,1]],[116176088,1,26,[57,60,1]],[116176088,2,27,[58]],[116176087,2,27,[59]],[116176087,2,27,[60]],[116176087,2,27,[61]],[116176087,2,27,[62]],[116176087,2,27,[63]],[116176087,null,12,[7]],[116176086,null,35,[3]],[116169716,2,1,[63,false]],[116168245,2,1,[63,false]],[116157405,2,1,[58,false]],[116144181,null,12,[8]],[116144179,null,36,[3]],[116144164,null,12,[9]],[116144164,null,37,[]],[116144150,null,12,[10]],[116120783,1,0,[58,4,false]],[116119224,1,4,[63,1,null]],[116119212,1,20,[0,0,-2]],[116118047,2,22,[63,1]],[116107397,2,0,[48,4,false]],[116106404,2,21,[1,-1]],[116101451,2,4,[61,1,null]],[116101431,2,20,[0,-1,2]],[116088333,1,0,[59,4,false]],[116086679,1,4,[60,1,null]],[116085472,1,4,[60,1,null]],[116085462,1,20,[0,0,-1]],[116083784,2,22,[60,1]],[116024629,2,0,[50,4,false]],[116011750,2,24,[0,0]],[115978252,2,24,[3]],[115974828,2,4,[52,1,null]],[115974809,2,20,[1,0,0]],[115967733,1,0,[52,2,false]],[115966443,1,2,[1,14]],[115964196,1,2,[0,7]],[115921053,2,0,[46,2,false]],[115920101,2,2,[0,32]],[115919380,2,2,[1,50]],[115911605,1,0,[56,4,true]],[115909638,1,2,[1,11]],[115903502,1,2,[0,4]],[115903488,1,20,[0,-1,-1]],[115893453,2,0,[41,4,true]],[115889779,2,21,[{"symbol":3,"player":1}]],[115880647,1,2,[1,3]],[115878454,2,20,[0,2,0]],[115868743,1,0,[55,2,true]],[115864742,1,2,[0,1]],[115856974,1,2,[0,19]],[115849938,2,0,[83,4,false]],[115842540,2,38,[60,true]],[115840445,2,38,[59,true]],[115840425,2,20,[0,-2,2]],[115808219,1,0,[45,2,true]],[115795734,1,2,[0,18]],[115795309,1,2,[1,24]],[115769573,2,0,[43,4,true]],[115766028,2,5,[1,14]],[115763725,2,5,[1,11]],[115759437,2,5,[1,17]],[115757508,2,4,[52,1,null]],[115732221,1,0,[51,1,false]],[115730765,1,1,[52,false]],[115727725,1,5,[0,19]],[115600013,2,0,[44,4,false]],[115597155,2,4,[52,1,null]],[115595020,2,4,[52,1,null]],[115593180,2,4,[56,1,null]],[115589514,2,4,[56,1,null]],[115589487,2,20,[1,0,0]],[115580225,1,0,[54,1,false]],[115579091,1,1,[52,false]],[115571740,1,5,[1,3]],[115558229,2,0,[57,2,false]],[115557425,2,2,[1,44]],[115541676,1,0,[47,3,false]],[115540540,1,38,[52,true]],[115539868,1,38,[56,true]],[115539204,1,38,[51,true]],[115512644,2,0,[60,2,false]],[115510739,2,2,[1,56]],[115492779,1,0,[42,2,false]],[115491884,1,2,[1,17]],[115478325,2,0,[49,2,false]],[115464458,2,2,[0,35]],[115448146,2,2,[1,62]],[115446475,null,32,[]],[115443588,2,5,[1,56]],[115442156,2,20,[-1,0,0]],[115442154,null,12,[1]],[115433290,1,25,[]],[115424343,1,10,[33]],[115423295,null,12,[2]],[115421198,2,19,[-3,1,8,3,4]],[115421197,null,33,[3]],[115413031,1,10,[27]],[115397205,2,10,[38]],[115392735,1,10,[28]],[115390943,null,12,[3]],[115390942,null,34,[3]],[115367876,2,5,[1,62]],[115367124,2,5,[0,35]],[115358796,2,5,[1,50]],[115347268,null,12,[4]],[115337867,null,12,[5]],[115337866,1,30,[54,1]],[115337866,1,30,[55,1]],[115337866,1,30,[57,1]],[115337856,null,12,[6]],[115336864,1,4,[58,1,"Schleswig-Holstein"]],[115335864,1,4,[58,1,"Niedersachsen"]],[115333480,1,4,[63,1,"Hessen"]],[115331104,1,4,[62,2,"Bayern"]],[115331094,1,27,[57]],[115331094,2,27,[58]],[115331094,2,27,[59]],[115331093,2,27,[60]],[115331093,2,27,[61]],[115331093,2,27,[62]],[115331093,2,27,[63]],[115331092,null,12,[7]],[115331092,null,35,[3]],[115215275,2,1,[58,false]],[115214084,2,1,[62,false]],[115213292,2,1,[63,false]],[115210500,null,12,[8]],[115210500,null,36,[3]],[115210486,null,12,[9]],[115210485,null,37,[]],[115210473,null,12,[10]],[115083900,1,0,[68,2,false]],[115063858,1,2,[1,32]],[115063267,1,2,[0,19]],[115052400,2,0,[73,2,false]],[115045935,2,2,[1,56]],[115036163,1,0,[64,2,false]],[115030330,1,2,[1,31]],[115021304,2,0,[78,2,false]],[115020343,2,2,[1,50]],[115014689,1,0,[62,2,false]],[115013130,1,2,[1,14]],[115004216,2,0,[61,4,false]],[115002064,2,21,[{"symbol":2,"player":1}]],[114998679,2,4,[56,1,null]],[114985544,2,4,[56,1,null]],[114975400,1,4,[63,1,null]],[114968415,2,22,[63,1]],[114965077,1,0,[63,3,true]],[114963560,1,38,[55,true]],[114962665,1,38,[54,true]],[114941928,2,0,[79,2,true]],[114926159,2,2,[0,31]],[114925520,2,2,[1,49]],[114907044,1,0,[72,4,true]],[114903041,1,5,[1,56]],[114897305,1,5,[1,44]],[114897294,1,20,[0,-2,0]],[114885349,2,0,[85,4,false]],[114876871,2,1,[58,true]],[114876849,2,20,[1,0,2]],[114874192,2,1,[58,true]],[114874170,2,20,[1,0,2]],[114868224,2,1,[63,true]],[114868202,2,20,[1,0,2]],[114855464,1,0,[69,2,false]],[114853746,1,2,[1,3]],[114825432,2,0,[77,2,false]],[114823927,2,2,[1,44]],[114821175,2,2,[1,56]],[114814455,1,0,[71,4,false]],[114811458,1,4,[62,1,null]],[114811446,1,20,[0,-1,-1]],[114810232,2,22,[62,1]],[114773896,2,0,[74,2,false]],[114771495,2,2,[0,26]],[114754369,1,0,[75,4,false]],[114754360,1,20,[0,0,-1]],[114738048,2,0,[70,2,false]],[114736983,2,2,[1,42]],[114727799,2,2,[0,35]],[114689399,1,0,[67,3,false]],[114687486,1,38,[57,true]],[114680725,1,38,[51,true]],[114678861,1,38,[53,true]],[114646337,2,0,[66,2,false]],[114645281,2,2,[1,62]],[114644721,2,2,[1,53]],[114640488,null,32,[]],[114591080,2,5,[1,42]],[114587008,2,20,[-1,0,0]],[114587007,null,12,[1]],[114586987,null,12,[2]]]};
	
	b={"a":[66],"d":[{"n":"Gelato","h":[],"b":[52,55],"c":1486332307678},{"n":"ElPresidente","h":[],"c":1486332135569,"s":1}],"e":[1,7,1,4,1],"f":[[1,1],[0,3],[1,1],[0,3],[1,1],[1,2],[0,3],[0,[1,1,1]],[1,1,1],[5,0,1],[1,2],[0,2],[0,2],[4,2,1]],"g":0,"h":[33,30,6,11,25,20,41,16,23,12,27,34,18,38,26,36,3,4,32,5,15,35,14,24,37,13,10],"i":[10,18,40,30,5,7,56,3,8,35,50,42,43.4,60,23,19,62,41,64,66,25,20,17],"k":[0,1,-3],"l":[27],"n":[77,80,71,70,76,68,61,73,75,63,84,79,69,74,67,65,72,78,64,62],"o":[0,0,0],"p":"{\"iconList\":[{\"symbol\":9,\"player\":1},{\"symbol\":9,\"player\":2},{\"symbol\":9,\"player\":1},{\"symbol\":9,\"player\":2}]}","q":[1486554730407,[599163169,1,0,[13,4,false]],[599161291,1,2,[0,6]],[599159415,1,2,[0,11]],[599155152,1,2,[1,10]],[599150990,1,1,[56,false]],[568422332,2,0,[17,2,false]],[568420731,2,2,[1,50]],[534640060,1,0,[1,2,false]],[534633380,1,2,[1,15]],[534625206,1,2,[0,17]],[534361801,2,0,[14,2,false]],[534357054,2,2,[0,28]],[534354969,2,2,[0,35]],[532914502,1,0,[3,2,false]],[532905447,1,2,[0,25]],[532247982,2,0,[11,4,false]],[532246313,2,21,[0,-1]],[532236903,2,4,[51,1,null]],[532125843,1,0,[12,3,false]],[532115654,1,38,[51,true]],[532114339,1,38,[53,true]],[532110797,1,38,[57,true]],[531977902,2,0,[4,4,false]],[531971280,2,4,[50,1,null]],[531969439,2,4,[51,1,null]],[531969423,2,20,[2,0,0]],[531582776,1,0,[20,4,false]],[531578546,1,1,[51,false]],[531575400,1,2,[1,35]],[531572884,1,2,[0,20]],[531568353,1,2,[1,5]],[531555178,1,4,[58,1,null]],[531548899,2,22,[58,1]],[531427791,2,0,[8,4,false]],[531425130,2,4,[54,1,null]],[531417573,2,5,[1,5]],[531408970,2,5,[0,3]],[531408943,2,20,[1,0,0]],[530987263,1,0,[2,2,false]],[530985445,1,2,[1,28]],[530912174,2,0,[9,4,true]],[530909459,2,2,[0,41]],[530908190,2,2,[1,63]],[530906534,2,2,[0,40]],[530904745,2,2,[1,52]],[530902508,2,4,[59,1,null]],[530902483,2,20,[1,0,0]],[530307763,1,0,[19,4,false]],[530301631,1,2,[0,16]],[530298496,1,2,[0,23]],[530298274,1,20,[-1,0,0]],[530133886,2,0,[7,3,true]],[530133118,2,38,[59,true]],[530132214,2,38,[62,true]],[530129991,2,38,[60,true]],[529343539,1,0,[6,3,false]],[529342615,1,38,[56,true]],[529334714,1,38,[54,true]],[529333348,1,38,[52,true]],[528745965,2,0,[5,4,false]],[528742121,2,1,[58,false]],[528741186,2,20,[1,0,0]],[528740171,null,31,[1]],[528735672,2,5,[1,50]],[528734652,null,12,[1]],[528717657,2,25,[]],[528714759,2,1,[61,false]],[528709721,2,2,[1,46]],[528706543,null,12,[2]],[526767072,2,19,[1,0,3,0,4]],[526767042,null,33,[0]],[526766697,null,12,[3]],[526766691,null,34,[1]],[525613053,2,5,[1,63]],[525611290,null,12,[4]],[511747131,null,12,[5]],[511746841,null,12,[6]],[511746585,1,27,[50]],[511742119,1,4,[58,1,"Niedersachsen"]],[511739397,1,4,[63,1,"Hessen"]],[511739131,1,27,[55]],[511737895,1,4,[63,1,"Bayern"]],[511737637,1,27,[57]],[511737634,2,27,[58]],[511737631,2,27,[59]],[511737629,2,27,[60]],[511737619,2,27,[61]],[511737614,2,27,[62]],[511737611,2,27,[63]],[511737608,null,12,[7]],[511737601,null,35,[1]],[484799004,2,1,[63,false]],[484796389,null,12,[8]],[484796335,null,12,[9]],[484796333,null,37,[]],[484796301,null,12,[10]],[483087900,2,0,[26,4,false]],[483083367,2,4,[51,1,null]],[483079810,2,4,[57,1,null]],[483076493,2,4,[57,1,null]],[483068620,2,15,[54]],[483068571,2,20,[0,0,1]],[458751554,1,0,[28,2,false]],[458748018,1,2,[0,12]],[458746399,1,2,[1,18]],[455659231,2,0,[29,4,false]],[455657003,2,2,[0,27]],[455653067,2,2,[0,34]],[455650249,2,4,[61,1,null]],[455650187,2,20,[0,2,0]],[452876149,1,0,[21,4,false]],[452871029,1,21,[17]],[452860798,1,1,[62,false]],[452860411,1,20,[0,-1,-1]],[451893708,2,0,[30,4,false]],[451892571,2,21,[2,-1]],[451890224,2,1,[63,false]],[451890161,2,20,[0,2,0]],[451416810,1,0,[33,2,false]],[451414906,1,2,[1,40]],[451407411,1,2,[0,18]],[435179601,2,0,[24,4,true]],[435166509,2,4,[54,1,null]],[435160635,2,1,[63,false]],[435157095,2,1,[61,false]],[435157045,2,20,[0,0,1]],[433364117,1,0,[27,2,true]],[433361437,1,2,[1,30]],[433339573,1,2,[0,7]],[433032146,2,0,[37,2,true]],[433030153,2,2,[0,38]],[432862577,1,0,[38,4,true]],[432862480,1,20,[-1,-1,0]],[429305341,2,0,[31,2,false]],[429302720,2,2,[1,59]],[429301369,2,2,[1,57]],[427995314,1,0,[25,3,false]],[427988052,1,38,[55,true]],[427986811,1,38,[53,true]],[427985506,1,38,[56,true]],[427799609,2,0,[36,2,false]],[427790366,2,2,[0,26]],[427789685,2,2,[1,42]],[427558646,1,0,[39,4,false]],[427548802,1,1,[57,false]],[427538769,1,1,[51,false]],[427482353,1,1,[51,false]],[427481857,1,20,[-1,0,0]],[427198341,2,0,[23,4,false]],[427181017,2,2,[0,36]],[427177800,2,2,[1,62]],[427175180,2,2,[1,64]],[427166920,2,4,[62,1,null]],[427166855,2,20,[0,1,0]],[421918477,1,0,[40,2,false]],[421916648,1,2,[0,3]],[421895957,1,2,[1,5]],[419110125,2,0,[22,3,false]],[419106008,2,38,[63,true]],[419105143,2,38,[61,true]],[419104388,2,38,[58,true]],[375402989,1,0,[32,3,false]],[375400594,1,38,[57,true]],[375398512,1,38,[50,true]],[375390929,null,31,[2]],[372814651,2,5,[1,62]],[352003983,1,5,[1,46]],[352001524,null,12,[1]],[351719492,2,25,[]],[351714639,2,2,[1,46]],[351713396,null,12,[2]],[346941309,2,19,[3,3,6,2,6]],[346941281,null,33,[0]],[346940870,null,12,[3]],[346940865,null,34,[1]],[345359026,2,5,[0,35]],[345356438,null,12,[4]],[341557133,null,12,[5]],[341556809,null,12,[6]],[341556555,1,27,[50]],[341556548,1,27,[51]],[341551815,1,4,[63,1,"Hessen"]],[341550586,1,4,[63,1,"Bayern"]],[341550342,1,26,[57,59,1]],[341550340,1,26,[57,60,1]],[341550339,2,27,[58]],[341550337,2,27,[59]],[341550335,2,27,[60]],[341550328,2,27,[61]],[341550327,2,27,[62]],[341550326,2,27,[63]],[341550324,null,12,[7]],[341550319,null,35,[1]],[304365323,2,1,[59,false]],[304362685,null,12,[8]],[304362678,null,36,[1]],[304362625,null,12,[9]],[304362624,null,37,[]],[304362584,null,12,[10]],[304236726,2,0,[43,4,false]],[304234118,2,5,[1,15]],[304231501,2,5,[0,7]],[304229044,2,5,[0,9]],[304226277,2,4,[52,1,null]],[292270801,1,0,[56,4,false]],[292261796,1,2,[1,26]],[292254682,1,2,[0,7]],[292254351,1,20,[0,-1,-1]],[290405468,2,0,[45,4,false]],[290403308,2,21,[1,-1]],[290397282,2,1,[60,false]],[290395035,2,1,[59,false]],[290394979,2,20,[0,0,1]],[264874323,1,0,[46,2,false]],[264817101,1,2,[1,7]],[264815098,1,2,[0,4]],[264719476,2,0,[59,2,true]],[264710801,2,2,[0,32]],[264709411,2,2,[1,56]],[257874573,1,0,[53,3,false]],[257871945,1,38,[51,true]],[257869861,1,38,[54,true]],[257868154,1,38,[55,true]],[257739133,2,0,[42,4,false]],[257737672,2,21,[{"symbol":3,"player":1}]],[257618610,1,1,[54,false]],[257613357,1,1,[57,false]],[236000645,2,20,[2,1,0]],[234707571,1,0,[58,4,true]],[234702867,1,4,[63,1,null]],[234702378,1,20,[0,0,-2]],[234698893,2,22,[63,1]],[232466680,2,0,[83,4,false]],[232463116,2,38,[61,true]],[232455374,2,38,[60,true]],[232455317,2,20,[0,-2,2]],[231851878,1,0,[51,4,true]],[231849256,1,21,[2,1]],[231842753,1,20,[-2,0,0]],[230659874,2,0,[41,4,false]],[230656085,2,21,[{"symbol":6,"player":1}]],[228965330,1,1,[50,false]],[228935362,2,20,[0,2,0]],[228709171,1,0,[57,4,false]],[228685488,1,4,[59,1,null]],[228680846,1,4,[59,1,null]],[228680371,1,20,[0,0,-2]],[228644603,2,0,[48,4,false]],[228639625,2,21,[1,-1]],[228634425,2,4,[61,1,null]],[228634362,2,20,[0,-1,2]],[228574707,1,0,[52,2,false]],[228548712,1,2,[1,3]],[228531663,1,2,[0,5]],[228244309,2,0,[50,4,false]],[228232992,2,4,[52,1,null]],[228227038,2,24,[0,0]],[228209001,2,24,[3]],[228207703,2,20,[1,0,0]],[227096928,1,0,[47,2,false]],[227094507,1,2,[1,8]],[227070530,1,2,[0,15]],[226324119,2,0,[54,4,true]],[226293601,2,5,[1,26]],[226280196,2,5,[1,35]],[226274795,2,5,[1,28]],[226269216,2,5,[0,17]],[225450418,1,0,[44,2,true]],[225444951,1,2,[1,35]],[224658003,2,0,[60,2,false]],[224654146,2,2,[0,35]],[223981645,1,0,[55,4,false]],[223965924,1,4,[55,1,null]],[223965374,1,20,[-2,0,0]],[223944960,null,31,[3]],[223760690,2,5,[0,35]],[223723757,1,5,[1,46]],[223708520,2,5,[0,28]],[223707160,null,12,[1]],[223705939,2,25,[]],[223699912,2,2,[1,50]],[223697135,null,12,[2]],[223690066,2,19,[-1,2,8,1,5]],[223690055,null,33,[1]],[223681066,2,10,[27]],[223679788,null,12,[3]],[223679785,null,34,[2]],[223675852,2,5,[1,42]],[223671424,2,5,[1,57]],[223670032,null,12,[4]],[223656489,1,28,[54]],[223656468,1,28,[59]],[223656056,null,12,[5]],[223656046,1,30,[59,1]],[223655740,null,12,[6]],[223655417,1,27,[50]],[223652412,1,4,[59,2,"Niedersachsen"]],[223646648,1,4,[63,1,"Hessen"]],[223633548,1,4,[63,1,"Bayern"]],[223633234,1,26,[57,59,2]],[223633232,2,27,[58]],[223633230,2,27,[59]],[223633228,2,27,[60]],[223633227,2,27,[61]],[223633225,2,27,[62]],[223633223,2,27,[63]],[223633221,null,12,[7]],[223633216,null,35,[2]],[223567437,2,1,[63,false]],[223565285,2,1,[63,false]],[223563187,null,12,[8]],[223563180,null,36,[1]],[223558496,2,22,[59]],[223556789,null,12,[9]],[223556787,null,37,[]],[223556733,null,12,[10]],[223463701,2,0,[77,2,false]],[223455584,2,2,[1,42]],[223453751,2,2,[1,43.1]],[223436301,1,0,[80,4,false]],[223429557,1,5,[1,59]],[223426873,1,5,[1,64]],[223424626,1,4,[63,1,null]],[223424256,1,20,[-1,0,0]],[223381563,2,0,[71,2,false]],[223373318,2,2,[0,35]],[223371390,2,2,[1,60]],[223344933,1,0,[70,4,false]],[223329179,1,2,[0,14]],[223325896,1,2,[1,23]],[223319054,1,2,[1,19]],[223318493,1,20,[-1,0,0]],[223297286,2,0,[76,2,false]],[223292384,2,2,[1,43.2]],[223286676,2,2,[1,62]],[223275235,1,0,[68,2,false]],[223266490,1,2,[0,24]],[223265201,1,2,[1,41]],[223243204,2,0,[61,2,true]],[223234080,2,1,[63,true]],[223221926,2,2,[1,64]],[223202627,1,0,[73,4,true]],[223199144,1,9,[40]],[223198606,1,20,[0,0,-2]],[223168779,2,0,[75,2,true]],[223164666,2,2,[0,37]],[223123123,1,0,[63,3,true]],[223121440,1,38,[51,true]],[223119792,1,38,[53,true]],[223118264,1,38,[56,true]],[223060522,2,0,[84,4,false]],[223057119,2,23,[]],[223047272,2,4,[61,1,null]],[223023695,1,7,[59]],[223018401,2,20,[0,-1,0]],[223003372,1,0,[79,4,true]],[222999098,1,38,[57,true]],[222991033,1,1,[52,false]],[222990507,1,20,[0,-2,0]],[222954389,2,0,[69,2,false]],[222951322,2,2,[1,66]],[222862608,1,0,[74,4,false]],[222858942,1,4,[59,1,null]],[222856534,1,4,[59,1,null]],[222856146,1,20,[0,0,-1]],[222665812,2,0,[67,4,false]],[222663740,2,38,[62,true]],[222651307,2,1,[61,false]],[222651242,2,20,[1,0,0]],[222627311,1,0,[65,2,false]],[222624321,1,2,[1,25]],[222610916,1,2,[0,13]],[222609333,1,2,[1,20]],[222584592,2,0,[72,3,false]],[222581828,2,38,[63,true]],[222564444,1,0,[78,4,false]],[222558403,1,1,[62,false]],[222533315,1,4,[63,1,null]],[222520606,1,1,[61,false]],[222516420,1,4,[63,1,null]],[222516069,1,20,[0,0,-1]],[222431369,2,0,[64,4,false]],[222417264,2,1,[58,false]],[222403451,1,1,[50,false]],[222398687,1,1,[52,false]],[222384788,2,20,[0,2,0]],[26053,1,0,[62,2,false]],[23793,1,2,[1,17]],[20828,null,31,[4]]]};
	
	G.load(b);

	/*G.workflow.phase = R.CHANGE_HAND;
	G.players[0].hand = [54,55,57];
	G.players[1].hand = [58,59];

	delete G.players[0].ok;
	delete G.players[1].ok;*/

	Controller.view.display();
	Controller.start();
	Controller.view.startTriggers();

}


$(window).on('load', function() {
	try {
		if (global.now != undefined && global.now > 0) {
			IO.decalage = new Date().getTime() - global.now;
		}
		startup();
	} catch (e) {
		$('body').html('<p>This game does not exist</p><p><a href="../main.jsp">Back</a></p>');
	}
});